<div class="animated fadeIn">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header"><i class="fa fa-edit"></i> <span class="h5"> Log Mesin Absen </span> </div>
          <div class="card-body">
            <div class="animated fadeIn">
                <div class="row">
                  <div class="col-lg-12">
                    <div class="card">
                      <div class="card-body">
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-row">
                              <label class="col-md-4">
                                Rentang Tanggal
                                <input type="text"
                                    class="form-control"
                                    ngxDaterangepickerBootstrap
                                    [locale]="{
                                      applyLabel: 'Terapkan',
                                      format: 'DD-MM-YYYY',
                                      cancelLabel: 'Batal',
                                      customRangeLabel: 'Rentang Kustom'
                                    }"
                                    startKey="start"
                                    endKey="end"
                                    [(ngModel)]="selected"
                                    (ngModelChange)="transition()"
                                    name="daterange"
                                    [showCustomRangeLabel]="true"
                                    [alwaysShowCalendars]="true"
                                    placeholder="Pilih rentang tanggal..."
                                />
                              </label>
                              <label for="q" class="col-md-3"
                                >Pencarian
                                <input
                                  id="q"
                                  autocomplete="off"
                                  [(ngModel)]="q"
                                  (keyup.enter)="page = 1; loadAll()"
                                  name="q"
                                  type="text"
                                  class="form-control"
                                  placeholder="Cari..."
                                />
                              </label>
                              <label class="col-md-2 px-lg-2">
                                &nbsp;
                                <div class="">
                                  <button
                                    type="button"
                                    class="btn btn-secondary"
                                    (click)="transition()"
                                    [disabled]="isLoading()"
                                  >
                                    <!-- <i class="fa fa-refresh fa-fw"></i> -->
                                    <fa-icon
                                      [icon]="['fas', 'sync']"
                                      [animation]="isLoading() ? 'spin' : undefined"
                                    ></fa-icon>
                                  </button>
                                </div>
                              </label>
                            </div>
                          </div>
                        </div>
                        <div class="row mt-2">
                          <div class="col-md-12">
                            <div class="table-responsive">
                              <table class="table table-sm table-hover">
                                <thead>
                                  <tr
                                    jhiSort
                                    [sortState]="sortState"
                                    (sortChange)="transition($event)"
                                  >
                                    <th jhiSortBy="sn">
                                      <span> SN </span><fa-icon icon="sort"></fa-icon>
                                    </th>
                                    <th jhiSortBy="scanDate">
                                      <span> Scan Date </span><fa-icon icon="sort"></fa-icon>
                                    </th>
                                    <th jhiSortBy="pin">
                                      <span> PIN </span><fa-icon icon="sort"></fa-icon>
                                    </th>
                                    <th jhiSortBy="verifyMode">
                                      <span> Verify Mode </span><fa-icon icon="sort"></fa-icon>
                                    </th>
                                    <th jhiSortBy="inOutMode">
                                      <span> In/Out Mode </span><fa-icon icon="sort"></fa-icon>
                                    </th>
                                    <th jhiSortBy="deviceIp">
                                      <span> Device IP </span><fa-icon icon="sort"></fa-icon>
                                    </th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr
                                    *ngFor="
                                      let d of data;
                                      let idx = index;
                                      trackBy: trackIdentity
                                    "
                                  >
                                    <td>{{ d.sn }}</td>
                                    <td>{{ d.scanDate | date: 'dd/MM/yyyy HH:mm:ss' }}</td>
                                    <td>{{ d.pin }}</td>
                                    <td>{{ d.verifyMode }}</td>
                                    <td>{{ d.inOutMode }}</td>
                                    <td>{{ d.deviceIp }}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                        <div
                          class="d-flex justify-content-center"
                          *ngIf="totalItems > itemsPerPage"
                        >
                          <pagination
                            [totalItems]="totalItems"
                            [(ngModel)]="page"
                            [boundaryLinks]="true"
                            (pageChanged)="loadPage($event)"
                            [itemsPerPage]="itemsPerPage"
                            previousText="&lsaquo;"
                            nextText="&rsaquo;"
                            firstText="&laquo;"
                            lastText="&raquo;"
                          >
                          </pagination>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
          </div>
        </div>
      </div>
    </div>
  </div>